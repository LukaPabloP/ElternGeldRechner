<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elterngeld-Rechner 2024/2025</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; margin: 0; padding: 0; }
        input[type='number']::-webkit-inner-spin-button, input[type='number']::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type='number'] { -moz-appearance: textfield; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        // --- HILFSFUNKTIONEN (unverÃ¤ndert) ---
        const calculateNetIncome = (bruttoStr, steuerklasse, bundesland, kirchensteuer, anzahlKinder) => { const brutto = parseFloat(bruttoStr || '0'); if (brutto === 0) return { netto: 0, details: {} }; const jahresBrutto = brutto * 12; const bbgRvAv = 90600, bbgKvPv = 62100; const rvSatz = 0.093, avSatz = 0.013, kvSatz = 0.073 + 0.0085; let pvSatz = bundesland === 'Sachsen' ? 0.022 : 0.017; const rvBeitrag = Math.min(jahresBrutto, bbgRvAv) * rvSatz; const avBeitrag = Math.min(jahresBrutto, bbgRvAv) * avSatz; const kvBeitrag = Math.min(jahresBrutto, bbgKvPv) * kvSatz; const pvBeitrag = Math.min(jahresBrutto, bbgKvPv) * pvSatz; const sozialabgaben = rvBeitrag + avBeitrag + kvBeitrag + pvBeitrag; let zuVersteuern = jahresBrutto - sozialabgaben - 1260; let lohnsteuer = 0; const grundfreibetrag = steuerklasse === 'III' ? 23568 : 11784; if (zuVersteuern > grundfreibetrag) { const y = (zuVersteuern - grundfreibetrag) / 10000; if (zuVersteuern <= 17005) lohnsteuer = (1088.67 * y + 1400) * y; else if (zuVersteuern <= 66760) lohnsteuer = (206.43 * (y - 1.7005) + 2397) * (y - 1.7005) + 938.24; else if (zuVersteuern <= 277825) lohnsteuer = 0.42 * zuVersteuern - 10253; else lohnsteuer = 0.45 * zuVersteuern - 18119; } if (steuerklasse === 'V') lohnsteuer *= 1.5; if (steuerklasse === 'III') lohnsteuer *= 0.6; if (steuerklasse === 'II') lohnsteuer -= 4260; const kirchensteuerSatz = (bundesland === 'Bayern' || bundesland === 'Baden-WÃ¼rttemberg') ? 0.08 : 0.09; const kirchensteuerBeitrag = kirchensteuer === 'ja' ? lohnsteuer * kirchensteuerSatz : 0; const gesamtAbzuege = sozialabgaben + lohnsteuer + kirchensteuerBeitrag; const jahresNetto = jahresBrutto - gesamtAbzuege; return { netto: Math.max(0, jahresNetto / 12), details: { sozialabgaben: sozialabgaben / 12, lohnsteuer: lohnsteuer / 12, kirchensteuer: kirchensteuerBeitrag / 12 } }; };
        const getReplacementRate = (netto) => { if (netto <= 0) return 0; if (netto >= 1240) { const cappedNetto = Math.min(netto, 2770); if (cappedNetto <= 1200) return 0.67; return Math.max(0.65, 0.67 - (((cappedNetto - 1200) / 2) * 0.001)); } else { return Math.min(1.0, 0.67 + (((1240 - netto) / 2) * 0.001)); } };

        // --- SVG ICONS (unverÃ¤ndert) ---
        const Calculator = ({ className = "w-6 h-6" }) => ( <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="16" y1="10" x2="16" y2="10"/><line x1="12" y1="10" x2="12" y2="10"/><line x1="8" y1="10" x2="8" y2="10"/><line x1="16" y1="14" x2="16" y2="14"/><line x1="12" y1="14" x2="12" y2="14"/><line x1="8" y1="14" x2="8" y2="14"/><line x1="16" y1="18" x2="16" y2="18"/><line x1="12" y1="18" x2="12" y2="18"/><line x1="8" y1="18" x2="8" y2="18"/></svg> );
        const Euro = ({ className = "w-6 h-6" }) => ( <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 10h12"/><path d="M4 14h9"/><path d="m19 6-6 6 6 6"/></svg> );
        const Download = ({ className = "w-5 h-5" }) => ( <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/></svg> );
        const ExternalLink = ({ className = "w-4 h-4" }) => ( <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15,3 21,3 21,9"/><line x1="10" y1="14" x2="21" y2="3"/></svg> );

        // --- KOMPONENTE FÃœR RECHTLICHE HINWEISE IM FOOTER ---
        const LegalFooter = () => (
            <div className="mt-12 pt-8 border-t border-gray-300 text-center text-gray-500 text-sm">
                <div className="mb-6">
                    <a href="/impressum.html" target="_blank" className="text-blue-600 hover:underline mx-4">Impressum</a>
                    <a href="/datenschutz.html" target="_blank" className="text-blue-600 hover:underline mx-4">Datenschutz</a>
                </div>
                <p className="mt-8 text-xs">Â© {new Date().getFullYear()} Elterngeld-Rechner. Alle Rechte vorbehalten.</p>
            </div>
        );

        // --- PDF-LAYOUT (unverÃ¤ndert) ---
        const PDFLayout = ({ result, formData }) => {
            if (!result || !formData) return null;
            return (
                <div className="p-10 bg-white w-[800px]">
                    <div className="flex justify-between items-center pb-4 border-b"><h1 className="text-2xl font-bold text-gray-800">Ihr Elterngeld-Fahrplan</h1><p className="text-sm text-gray-500">Berechnet am: {new Date().toLocaleDateString('de-DE')}</p></div>
                    <div className="my-8 text-center bg-blue-50 p-6 rounded-lg"><p className="text-lg text-blue-800">Ihr voraussichtliches Basiselterngeld</p><p className="text-6xl font-bold text-blue-900 my-2">{result.elterngeld?.toLocaleString('de-DE')} â‚¬</p><p className="text-lg text-blue-800">pro Monat</p><hr className="my-4" /><p className="text-md text-gray-700">Gesamtsumme Ã¼ber 12 Monate: <strong>{result.gesamtsumme?.toLocaleString('de-DE')} â‚¬</strong></p></div>
                    <div className="grid grid-cols-2 gap-8">
                        <div><h2 className="text-xl font-semibold text-gray-700 mb-3">Ihre Angaben</h2><div className="space-y-2 text-gray-600"><p><strong>Bruttoeinkommen:</strong> {parseFloat(formData.brutto).toLocaleString('de-DE')} â‚¬</p><p><strong>Steuerklasse:</strong> {formData.steuerklasse}</p><p><strong>Bundesland:</strong> {formData.bundesland}</p><p><strong>Geburtstermin:</strong> {formData.geburtsmonat}/{formData.geburtsjahr}</p><p><strong>Kirchensteuer:</strong> {formData.kirchensteuer === 'ja' ? 'Ja' : 'Nein'}</p><p><strong>Geschwisterbonus:</strong> {formData.geschwisterbonusBedingung === 'ja' ? 'Ja' : 'Nein'}</p></div></div>
                        <div><h2 className="text-xl font-semibold text-gray-700 mb-3">Berechnungsdetails</h2><div className="space-y-2 text-gray-600"><p><strong>GeschÃ¤tztes Netto:</strong> {result.details?.netto?.toLocaleString('de-DE', { maximumFractionDigits: 0 })} â‚¬</p><p><strong>Ersatzrate:</strong> {(result.details?.ersatzrate * 100).toFixed(1)}%</p><p><strong>Grundbetrag:</strong> {result.details?.basisElterngeld?.toLocaleString('de-DE', { maximumFractionDigits: 0 })} â‚¬</p>{result.details?.geschwisterbonus > 0 && <p><strong>+ Geschwisterbonus:</strong> {result.details.geschwisterbonus.toLocaleString('de-DE', { maximumFractionDigits: 0 })} â‚¬</p>}{result.details?.mehrlingszuschlag > 0 && <p><strong>+ Mehrlingszuschlag:</strong> {result.details.mehrlingszuschlag.toLocaleString('de-DE', { maximumFractionDigits: 0 })} â‚¬</p>}</div></div>
                    </div>
                    <div className="mt-10 pt-6 border-t"><h2 className="text-xl font-semibold text-gray-700 mb-3">âœ… Wichtige NÃ¤chste Schritte*</h2><ul className="list-disc list-inside space-y-2"><li>Offiziellen Antrag vorbereiten (z.B. Ã¼ber elterngeld-digital.de).</li><li>Steuerliche Situation prÃ¼fen (ggf. Steuerklassenwechsel).</li><li>Geburtsurkunde des Kindes beantragen, sobald verfÃ¼gbar.</li></ul><p className="text-xs text-gray-500 mt-2">*Einige der empfohlenen Schritte kÃ¶nnen Links zu Partnern enthalten.</p></div>
                    <div className="mt-8 text-center text-xs text-gray-400 pt-4 border-t"><p className="font-bold">Wichtiger Haftungsausschluss:</p><p>Dies ist eine unverbindliche Simulation auf Basis Ihrer Eingaben und aktueller Gesetzeslagen (Stand Juli 2025). Die Berechnung stellt keine Rechts- oder Steuerberatung dar und erfolgt ohne GewÃ¤hr. FÃ¼r eine verbindliche Auskunft wenden Sie sich bitte ausschlieÃŸlich an Ihre zustÃ¤ndige Elterngeldstelle.</p><p className="mt-2">Â© {new Date().getFullYear()} Elterngeld-Rechner</p></div>
                </div>
            );
        };

        // --- HAUPTKOMPONENTE ---
        const ElterngeldRechner = () => {
            const [step, setStep] = useState(1);
            const [formData, setFormData] = useState({ brutto: '', steuerklasse: 'I', bundesland: 'Bayern', geburtsmonat: '', geburtsjahr: '', geburtstag: '', mehrlinge: 'nein', teilzeit: 'nein', email: '', kirchensteuer: 'nein', geschwisterbonusBedingung: 'nein' });
            const [result, setResult] = useState(null);
            const pdfRef = useRef();

            const handleInputChange = (field, value) => setFormData(prev => ({ ...prev, [field]: value }));
            const handleBruttoChange = (e) => handleInputChange('brutto', e.target.value);

            const calculateElterngeld = () => {
                const { netto, details: abzugDetails } = calculateNetIncome(formData.brutto, formData.steuerklasse, formData.bundesland, formData.kirchensteuer, formData.geschwisterbonusBedingung === 'ja' ? 1 : 0);
                const elterngeldNetto = Math.min(netto, 2770);
                const ersatzrate = getReplacementRate(elterngeldNetto);
                let basisElterngeld = elterngeldNetto * ersatzrate;
                let geschwisterbonus = formData.geschwisterbonusBedingung === 'ja' ? Math.max(basisElterngeld * 0.10, 75) : 0;
                let mehrlingszuschlag = 0;
                if (formData.mehrlinge === 'zwillinge') mehrlingszuschlag = 300;
                if (formData.mehrlinge === 'drillinge') mehrlingszuschlag = 600;
                const gesamtElterngeld = basisElterngeld + geschwisterbonus + mehrlingszuschlag;
                const finalElterngeld = Math.round(Math.min(Math.max(gesamtElterngeld, 300), 1800 + mehrlingszuschlag));
                const jahreseinkommen = parseFloat(formData.brutto || '0') * 12;
                const geburtsjahr = parseInt(formData.geburtsjahr), geburtsmonat = parseInt(formData.geburtsmonat);
                let grenze = 300000;
                if (geburtsjahr === 2024 && geburtsmonat >= 4) grenze = 200000;
                if (geburtsjahr >= 2025 && geburtsmonat >= 4) grenze = 175000;
                else if (geburtsjahr >= 2025) grenze = 200000;
                if (jahreseinkommen > grenze) { setResult({ elterngeld: 0, grund: 'Einkommensgrenze Ã¼berschritten', grenze, jahreseinkommen }); } 
                else { setResult({ elterngeld: finalElterngeld, grund: 'Berechnung erfolgreich', grenze, jahreseinkommen, gesamtsumme: finalElterngeld * 12, monate: 12, details: { netto, ersatzrate, basisElterngeld, geschwisterbonus, mehrlingszuschlag } }); }
                setStep(3);
            };

            const resetForm = () => { setStep(1); setResult(null); setFormData({ brutto: '', steuerklasse: 'I', bundesland: 'Bayern', geburtsmonat: '', geburtsjahr: '', geburtstag: '', mehrlinge: 'nein', teilzeit: 'nein', email: '', kirchensteuer: 'nein', geschwisterbonusBedingung: 'nein' }); };

            const handleDownloadPDF = () => {
                const { jsPDF } = window.jspdf;
                const input = pdfRef.current;
                if (!input) return;
                html2canvas(input, { scale: 2 }).then((canvas) => {
                    const imgData = canvas.toDataURL('image/png');
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const imgWidth = canvas.width;
                    const imgHeight = canvas.height;
                    const ratio = imgWidth / imgHeight;
                    const finalImgHeight = pdfWidth / ratio;
                    pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, finalImgHeight);
                    pdf.save(`Elterngeld-Berechnung-${new Date().toISOString().slice(0, 10)}.pdf`);
                });
            };

            const StepIndicator = () => ( <div className="flex justify-center mb-8">{[1, 2, 3].map((num) => (<div key={num} className="flex items-center"><div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${step >= num ? 'bg-blue-500' : 'bg-gray-300'}`}>{num}</div>{num < 3 && (<div className={`w-16 h-1 mx-2 ${step > num ? 'bg-blue-500' : 'bg-gray-300'}`}></div>)}</div>))}</div> );
            const Step1 = () => ( <div className="space-y-6"><h2 className="text-3xl font-bold text-center text-gray-800 mb-8">ğŸ’° Ihre Einkommensdaten</h2><div className="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg"><h3 className="text-xl font-semibold text-blue-800 mb-4">Brutto-Monatseinkommen</h3><div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-4">{[2000, 2500, 3000, 3500, 4000, 4500, 5000, 6000].map(betrag => ( <button key={betrag} onClick={() => handleInputChange('brutto', betrag.toString())} className={`p-3 rounded-lg border-2 font-semibold transition-all ${formData.brutto === betrag.toString() ? 'bg-blue-500 text-white border-blue-500' : 'bg-white text-gray-700 border-gray-300 hover:border-blue-400'}`}>{betrag.toLocaleString('de-DE')}â‚¬</button> ))}</div><div className="flex items-center"><div className="flex-1 relative"><input type="number" value={formData.brutto} onChange={handleBruttoChange} placeholder="Oder geben Sie Ihr Gehalt ein..." className="w-full p-4 text-xl border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none pr-12"/><span className="absolute right-4 top-1/2 transform -translate-y-1/2 text-xl font-semibold text-gray-600">â‚¬</span></div></div><p className="text-sm text-gray-600 mt-2">ğŸ’¡ Ihr durchschnittliches Gehalt vor Steuern und AbzÃ¼gen.</p></div><div className="grid grid-cols-1 md:grid-cols-2 gap-6"><div className="bg-white border-2 border-gray-200 rounded-lg p-6"><label className="block text-lg font-semibold text-gray-700 mb-3">Steuerklasse</label><select value={formData.steuerklasse} onChange={(e) => handleInputChange('steuerklasse', e.target.value)} className="w-full p-3 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"><option value="I">Klasse I (ledig)</option><option value="II">Klasse II (alleinerziehend)</option><option value="III">Klasse III (verheiratet)</option><option value="IV">Klasse IV (verheiratet)</option><option value="V">Klasse V (verheiratet)</option></select></div><div className="bg-white border-2 border-gray-200 rounded-lg p-6"><label className="block text-lg font-semibold text-gray-700 mb-3">Bundesland</label><select value={formData.bundesland} onChange={(e) => handleInputChange('bundesland', e.target.value)} className="w-full p-3 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"><option value="Baden-WÃ¼rttemberg">Baden-WÃ¼rttemberg</option><option value="Bayern">Bayern</option><option value="Berlin">Berlin</option><option value="Brandenburg">Brandenburg</option><option value="Bremen">Bremen</option><option value="Hamburg">Hamburg</option><option value="Hessen">Hessen</option><option value="Mecklenburg-Vorpommern">Mecklenburg-Vorpommern</option><option value="Niedersachsen">Niedersachsen</option><option value="Nordrhein-Westfalen">Nordrhein-Westfalen</option><option value="Rheinland-Pfalz">Rheinland-Pfalz</option><option value="Saarland">Saarland</option><option value="Sachsen">Sachsen</option><option value="Sachsen-Anhalt">Sachsen-Anhalt</option><option value="Schleswig-Holstein">Schleswig-Holstein</option><option value="ThÃ¼ringen">ThÃ¼ringen</option></select></div></div><button onClick={() => setStep(2)} disabled={!formData.brutto} className="w-full bg-blue-500 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">Weiter zur Familienplanung â†’</button></div> );
            const Step2 = () => ( <div className="space-y-6"><h2 className="text-3xl font-bold text-center text-gray-800 mb-8">ğŸ‘¶ Familiendaten</h2><div className="bg-pink-50 border-l-4 border-pink-500 p-6 rounded-lg"><h3 className="text-xl font-semibold text-pink-800 mb-4">Wann wird Ihr Baby geboren?</h3><div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div><label className="block text-sm font-semibold text-gray-700 mb-2">Monat</label><select value={formData.geburtsmonat || ''} onChange={(e) => handleInputChange('geburtsmonat', e.target.value)} className="w-full p-3 text-lg border-2 border-gray-300 rounded-lg focus:border-pink-500 focus:outline-none"><option value="">Monat wÃ¤hlen...</option>{[...Array(12).keys()].map(i => <option key={i+1} value={(i+1).toString().padStart(2, '0')}>{new Date(0, i).toLocaleString('de', { month: 'long' })}</option>)}</select></div><div><label className="block text-sm font-semibold text-gray-700 mb-2">Jahr</label><select value={formData.geburtsjahr || ''} onChange={(e) => handleInputChange('geburtsjahr', e.target.value)} className="w-full p-3 text-lg border-2 border-gray-300 rounded-lg focus:border-pink-500 focus:outline-none"><option value="">Jahr wÃ¤hlen...</option><option value="2024">2024</option><option value="2025">2025</option></select></div></div></div><div className="grid grid-cols-1 md:grid-cols-2 gap-6"><div className="bg-white border-2 border-gray-200 rounded-lg p-6"><label className="block text-lg font-semibold text-gray-700 mb-3">Mehrlingsgeburt?</label><select value={formData.mehrlinge} onChange={(e) => handleInputChange('mehrlinge', e.target.value)} className="w-full p-3 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"><option value="nein">Nein</option><option value="zwillinge">Ja, Zwillinge (+300â‚¬)</option><option value="drillinge">Ja, Drillinge (+600â‚¬)</option></select></div><div className="bg-white border-2 border-gray-200 rounded-lg p-6"><label className="block text-lg font-semibold text-gray-700 mb-3">Kirchensteuerpflichtig?</label><div className="flex gap-4 mt-2"><label className={`flex-1 p-3 border-2 rounded-lg text-center cursor-pointer ${formData.kirchensteuer === 'ja' ? 'bg-blue-500 text-white border-blue-500' : 'bg-white'}`}><input type="radio" name="kirchensteuer" value="ja" checked={formData.kirchensteuer === 'ja'} onChange={(e) => handleInputChange('kirchensteuer', e.target.value)} className="hidden"/> Ja</label><label className={`flex-1 p-3 border-2 rounded-lg text-center cursor-pointer ${formData.kirchensteuer === 'nein' ? 'bg-blue-500 text-white border-blue-500' : 'bg-white'}`}><input type="radio" name="kirchensteuer" value="nein" checked={formData.kirchensteuer === 'nein'} onChange={(e) => handleInputChange('kirchensteuer', e.target.value)} className="hidden"/> Nein</label></div></div></div><div className="bg-green-50 border-l-4 border-green-500 p-6 rounded-lg"><label className="block text-lg font-semibold text-green-800 mb-3">Anspruch auf Geschwisterbonus?</label><div className="flex gap-4"><label className={`flex-1 p-3 border-2 rounded-lg text-center cursor-pointer ${formData.geschwisterbonusBedingung === 'ja' ? 'bg-green-500 text-white border-green-500' : 'bg-white'}`}><input type="radio" name="geschwisterbonus" value="ja" checked={formData.geschwisterbonusBedingung === 'ja'} onChange={(e) => handleInputChange('geschwisterbonusBedingung', e.target.value)} className="hidden"/> Ja</label><label className={`flex-1 p-3 border-2 rounded-lg text-center cursor-pointer ${formData.geschwisterbonusBedingung === 'nein' ? 'bg-green-500 text-white border-green-500' : 'bg-white'}`}><input type="radio" name="geschwisterbonus" value="nein" checked={formData.geschwisterbonusBedingung === 'nein'} onChange={(e) => handleInputChange('geschwisterbonusBedingung', e.target.value)} className="hidden"/> Nein</label></div><p className="text-sm text-gray-600 mt-2">ğŸ’¡ Ja, wenn Sie ein weiteres Kind unter 3 Jahren oder zwei weitere Kinder unter 6 Jahren haben.</p></div><div className="flex space-x-4"><button onClick={() => setStep(1)} className="flex-1 bg-gray-500 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-gray-600 transition-colors">â† ZurÃ¼ck</button><button onClick={calculateElterngeld} disabled={!formData.geburtsmonat || !formData.geburtsjahr} className="flex-1 bg-green-500 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">Elterngeld berechnen! ğŸ‰</button></div></div> );
            const Step3 = () => ( <div className="space-y-6"><div className="fixed top-0 left-[-9999px] opacity-0" aria-hidden="true"><div ref={pdfRef}><PDFLayout result={result} formData={formData} /></div></div><h2 className="text-3xl font-bold text-center text-gray-800 mb-8">ğŸ‰ Ihr Elterngeld-Ergebnis</h2>{result?.elterngeld === 0 ? ( <div className="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg"><h3 className="text-2xl font-bold text-red-800 mb-4">âŒ Kein Elterngeld mÃ¶glich</h3><p className="text-lg text-red-700 mb-4">Grund: {result.grund}</p><div className="bg-white p-4 rounded-lg"><p className="text-lg">ğŸ“Š Ihr Jahreseinkommen: <strong>{result.jahreseinkommen?.toLocaleString('de-DE')}â‚¬</strong></p><p className="text-lg">ğŸ“ˆ Einkommensgrenze: <strong>{result.grenze?.toLocaleString('de-DE')}â‚¬</strong></p></div></div> ) : ( <div className="bg-green-50 border-l-4 border-green-500 p-6 rounded-lg"><h3 className="text-2xl font-bold text-green-800 mb-6">âœ… Ihr voraussichtliches Basiselterngeld</h3><div className="text-center mb-6"><p className="text-5xl font-bold text-green-800">{result?.elterngeld?.toLocaleString('de-DE')}â‚¬</p><p className="text-xl text-gray-600">pro Monat</p></div><div className="bg-white p-6 rounded-lg"><h4 className="text-xl font-semibold text-gray-800 mb-4">ğŸ“‹ Berechnungsdetails (SchÃ¤tzung)</h4><div className="space-y-2 text-lg"><p>Ihr Bruttoeinkommen: <strong>{parseFloat(formData.brutto).toLocaleString('de-DE')}â‚¬</strong></p><p>âœ GeschÃ¤tztes Netto: <strong>{result?.details?.netto?.toLocaleString('de-DE', { maximumFractionDigits: 0 })}â‚¬</strong></p><p>âœ Angewandte Ersatzrate: <strong>{(result?.details?.ersatzrate * 100).toFixed(1)}%</strong></p><hr className="my-2"/><p>Grundbetrag: <strong>{result?.details?.basisElterngeld?.toLocaleString('de-DE', { maximumFractionDigits: 0 })}â‚¬</strong></p>{result?.details?.geschwisterbonus > 0 && <p className="text-green-600">+ Geschwisterbonus: <strong>{result.details.geschwisterbonus.toLocaleString('de-DE', { maximumFractionDigits: 0 })}â‚¬</strong></p>}{result?.details?.mehrlingszuschlag > 0 && <p className="text-green-600">+ Mehrlingszuschlag: <strong>{result.details.mehrlingszuschlag.toLocaleString('de-DE', { maximumFractionDigits: 0 })}â‚¬</strong></p>}<hr className="my-2"/><p>Gesamtsumme (12 Monate): <strong className="text-blue-700">{result?.gesamtsumme?.toLocaleString('de-DE')}â‚¬</strong></p></div></div></div> )}<div className="bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded-lg text-center"><p className="font-bold text-yellow-800">Wichtiger Hinweis zur Berechnung</p><p className="text-sm text-yellow-700">Alle Berechnungen sind unverbindliche SchÃ¤tzungen und stellen keine Rechts- oder Steuerberatung dar. FÃ¼r eine verbindliche Auskunft wenden Sie sich bitte ausschlieÃŸlich an Ihre zustÃ¤ndige Elterngeldstelle.</p></div><div className="bg-gray-50 p-6 rounded-lg"><h4 className="text-xl font-semibold text-gray-800 mb-4 text-center">ğŸ“„ Ergebnis als PDF speichern</h4><div className="max-w-md mx-auto"><button onClick={handleDownloadPDF} className="w-full flex items-center justify-center bg-red-500 text-white py-3 px-6 rounded-lg hover:bg-red-600 transition-colors text-lg font-semibold"><Download className="mr-2" />PDF herunterladen</button></div></div><div className="bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 p-6 rounded-lg"><h4 className="text-xl font-semibold text-blue-800 mb-1">ğŸ”¥ Empfohlene Services (Werbung)</h4><p className="text-xs text-gray-500 mb-4">Mit einem Sternchen (*) markierte Links sind Affiliate-Links. Bei einem Abschluss Ã¼ber diese Links erhalten wir eine Provision. FÃ¼r Sie entstehen keine zusÃ¤tzlichen Kosten.</p><div className="grid grid-cols-1 md:grid-cols-2 gap-4"><a href="[IHR CHECK24 AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="flex items-center justify-between bg-white p-4 rounded-lg border hover:shadow-md transition-shadow"><div><h5 className="font-semibold text-gray-800">ğŸ¥ Familienversicherung*</h5><p className="text-sm text-gray-600">CHECK24 - Beste Tarife vergleichen</p></div><div className="text-blue-500"><ExternalLink /></div></a><a href="[IHR STEUERBERATER AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="flex items-center justify-between bg-white p-4 rounded-lg border hover:shadow-md transition-shadow"><div><h5 className="font-semibold text-gray-800">ğŸ‘¨â€âš–ï¸ Steuerberatung*</h5><p className="text-sm text-gray-600">Elterngeld optimieren</p></div><div className="text-blue-500"><ExternalLink /></div></a><a href="[IHR AMAZON AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="flex items-center justify-between bg-white p-4 rounded-lg border hover:shadow-md transition-shadow"><div><h5 className="font-semibold text-gray-800">ğŸ¼ Baby-Erstausstattung*</h5><p className="text-sm text-gray-600">Amazon - Alles fÃ¼r den Start</p></div><div className="text-blue-500"><ExternalLink /></div></a><a href="[IHR BABYONE AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="flex items-center justify-between bg-white p-4 rounded-lg border hover:shadow-md transition-shadow"><div><h5 className="font-semibold text-gray-800">ğŸ›ï¸ BabyOne*</h5><p className="text-sm text-gray-600">Fachhandel fÃ¼r Baby-Bedarf</p></div><div className="text-blue-500"><ExternalLink /></div></a></div></div><button onClick={resetForm} className="w-full bg-gray-500 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-gray-600 transition-colors">ğŸ”„ Neue Berechnung starten</button></div> );

            return (
                <div className="min-h-screen bg-gray-100 py-8 px-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="text-center mb-8"><h1 className="text-4xl font-bold text-gray-800 mb-4">ğŸ¼ Elterngeld-Rechner 2024/2025</h1><p className="text-xl text-gray-600">Berechnen Sie Ihr Elterngeld nach den neuesten Gesetzen</p><div className="mt-4 bg-red-50 border border-red-200 rounded-lg p-4"><p className="text-red-800 font-semibold">âš ï¸ Neue Einkommensgrenzen ab April 2024: 200.000â‚¬ | Ab April 2025: 175.000â‚¬</p></div></div>
                        <StepIndicator />
                        <div className="bg-white rounded-lg shadow-lg p-8">{step === 1 && <Step1 />}{step === 2 && <Step2 />}{step === 3 && <Step3 />}</div>
                        
                        {/* --- HIER WURDE DER FEHLENDE WERBEBLOCK WIEDER EINGEFÃœGT --- */}
                        <div className="mt-8 bg-white rounded-lg shadow-lg p-6">
                            <h3 className="text-2xl font-bold text-center text-gray-800 mb-6">ğŸ“š Weitere hilfreiche Ressourcen</h3>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <a href="[IHR FINANZCHECK AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg border hover:shadow-md transition-shadow">
                                    <h4 className="font-semibold text-gray-800 mb-2">ğŸ’° Familienkredit*</h4>
                                    <p className="text-sm text-gray-600 mb-2">GÃ¼nstige Kredite fÃ¼r Familie vergleichen</p>
                                    <div className="flex items-center text-blue-500 text-sm"><span className="mr-1">Jetzt vergleichen</span><ExternalLink /></div>
                                </a>
                                <a href="[IHR NETMOMS AFFILIATE LINK]" target="_blank" rel="noopener noreferrer" className="bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-lg border hover:shadow-md transition-shadow">
                                    <h4 className="font-semibold text-gray-800 mb-2">ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Mama-Community*</h4>
                                    <p className="text-sm text-gray-600 mb-2">NetMoms - Deutschlands grÃ¶ÃŸte Mama-Community</p>
                                    <div className="flex items-center text-blue-500 text-sm"><span className="mr-1">Zur Community</span><ExternalLink /></div>
                                </a>
                                <a href="[IHR ELTERNGELD.DE ANTRAGS-LINK]" target="_blank" rel="noopener noreferrer" className="bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border hover:shadow-md transition-shadow">
                                    <h4 className="font-semibold text-gray-800 mb-2">ğŸ“‹ Elterngeld-Antrag*</h4>
                                    <p className="text-sm text-gray-600 mb-2">Professionelle Hilfe beim Antrag</p>
                                    <div className="flex items-center text-blue-500 text-sm"><span className="mr-1">Antrag stellen</span><ExternalLink /></div>
                                </a>
                            </div>
                        </div>

                        <LegalFooter />
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(ElterngeldRechner));
    </script>
</body>
</html>